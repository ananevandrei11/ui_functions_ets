<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: DragMove.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: DragMove.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class
 * @description This is a function for drag element by touch &amp; mousedown
 * @constructor DragMove
 * @param {string} targetsElement .class, #id, tag
 * @tutorial create new target object -> new DragMove(target element)
 * @tutorial call touch &amp; mousedown drag -> elem.drag();
 * @example let someName = new DragMove('.elem');
 * someName.drag();
 * */
function DragMove(elem) {
	this.elem = elem;

	this.drag = function () {
		const obj = document.querySelector(this.elem);
		
		obj.addEventListener('mousedown', function (e) {
			let shiftX = e.clientX - obj.getBoundingClientRect().left;
			let shiftY = e.clientY - obj.getBoundingClientRect().top;
			obj.style.bottom = 'auto';
			obj.style.right = 'auto';
			
			function moveAt(pageX, pageY) {
				obj.style.left = pageX - shiftX + 'px';
				obj.style.top = pageY - shiftY + 'px';
			}

			function onMove(e) {
				moveAt(e.pageX, e.pageY);
			}

			moveAt(e.pageX, e.pageY);

			document.addEventListener('mousemove', onMove);

			obj.onmouseup = function () {
				document.removeEventListener('mousemove', onMove);
				obj.onmouseup = null;
			};
		});
		
		obj.addEventListener('touchstart', function (e) {
			let shiftX = e.targetTouches[0].clientX - obj.getBoundingClientRect().left;
			let shiftY = e.targetTouches[0].clientY - obj.getBoundingClientRect().top;

			obj.style.bottom = 'auto';
			obj.style.right = 'auto';
			
			function moveAt(pageX, pageY) {
				obj.style.left = pageX - shiftX + 'px';
				obj.style.top = pageY - shiftY + 'px';
			}

			function onMove(e) {
				moveAt(e.targetTouches[0].pageX, e.targetTouches[0].pageY);
			}

			moveAt(e.targetTouches[0].pageX, e.targetTouches[0].pageY);

			document.addEventListener('touchmove', onMove);

			obj.ontouchend = function () {
				document.removeEventListener('touchmove', onMove);
				obj.ontouchend = null;
			};
		});

		obj.ondragstart = function() {
			return false;
		};
	}
}

let dragMoveChat = new DragMove('.drag_move');
dragMoveChat.drag();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DragMove.html">DragMove</a></li><li><a href="HorizontalScroll.html">HorizontalScroll</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sun Feb 13 2022 00:41:41 GMT+0400 (Самарское стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
